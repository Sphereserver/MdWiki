{{Languages|Database}}

__FORCETOC__
Mit dem [[DB]]-Objekt können Skripte auf eine externe MySQL Datenbank zugreifen. Folgende Tabelle beschreibt die verschiedenen Eigenschaften des DB-Objekts in Sphere.


'''Anm:''' Um das DB-Objekt zu nutzen, muss in der Sphere.ini zunächst MySQL aktiviert und konfiguriert werden.


==Eigenschaften und Funktionen==
Hier eine Auflistung aller Datenbankeigenschaften und -funktioen. Falls eine Funktion als lesbar (mit einem R für readable) markiert ist, dann liefert sie einen Wert zurück, wenn sie in der Form von <KEY> benutzt wird. Um Beispiele und detaillierte Informationen zu erhalten, kann jeweils der Name angeklickt werden. Wenn auf eine Eigenschaft zugegriffen wird, die nicht existiert, dann wird Sphere versuchen auf ein [[ITEMDEF]] zuzugreifen.

{| border="1" cellspacing="4" cellpadding="4"
| '''Name''' || '''Lesbar(R)/Schreibbar(W)''' || '''Beschreibung'''
|-
| [[AEXECUTE]] ''function, command'' || R || Führt in einem Hintergrundthread einen SQL-Befehl aus und ruft ''function'' auf, wenn dieser Vorgang abgeschlossen ist. Liefert 1, wenn der Befehl erfolgreich in die Abarbeitungswarteschlange eingereiht wurde.
|-
| [[AQUERY]] ''function, command'' || R || Führt einen SQL-Befehl in einem Hintergrundthread aus, ruft dann ''function'' auf, wenn das geschehen ist. Liefert 1, wenn der Befehl erfolgreich in die Abarbeitungswarteschlange eingereiht wurde.
|-
| [[CLOSE]] || W || Schliesst die Verbindung zum Datenbankserver.
|-
| [[CONNECT]] || W || Öffnet eine Verbindung zum Datenbankserver mit den Einstellungen aus der Sphere.ini.
|-
| [[CONNECTED]] || R || Liefert 1, wenn die Verbindung zur Datenbank besteht.
|-
| [[ESCAPEDATA]] ''text'' || R || Liefert ''text'' als escaped SQL-String (einige Sonderzeichen werden umgewandelt, um bspw SQL-Injection zu vermeiden).
|-
| [[EXECUTE]] ''command'' || W || Führt einen SQL-Befehl aus, der kein Ergebnis liefert.
|-
| [[QUERY]] ''command'' || W || Führt einen SQL-Befehl aus, der ein Ergebnis liefert.
|-
| [[ROW]].NUMCOLS || R || Liefert die Anzahl der Spalten der letzten Abfrage.
|-
| [[ROW]].NUMROWS || R || Liefert die Anzahl der Zeilen der letzten Abfrage.
|-
| [[ROW]]''.n.col_index'' || R || Liefert den Wert in der Spalte ''col_index'' und der Zeile n (beginnend bei 0)
|-
| [[ROW]]''.n.col_name'' || R || Liefert den Wert einer Spalte, die den Namen ''col_name'' trägt, in der Zeile n (beginnend bei 0)
|}

[[Category: Reference Compendium]]
[[Category: Objects]]